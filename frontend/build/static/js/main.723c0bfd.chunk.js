(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(10),s=n.n(a),u=(n(15),n(3)),i=(n(16),n(2)),o=n.n(i),l=n(4),j=n(5),p=window.location.href.slice(0,-6),d="".concat(p,":").concat(4e3,"/");function b(){return f.apply(this,arguments)}function f(){return(f=Object(l.a)(o.a.mark((function e(){var t,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(d+"status");case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,r=Object(j.a)({online:!0},n),e.abrupt("return",r);case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",{online:!1});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function O(){return(O=Object(l.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(d+"password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:t})});case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{success:!1});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function h(){return v.apply(this,arguments)}function v(){return(v=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(d+"pumps");case 3:return t=e.sent,e.next=6,t.json();case 6:if(n=e.sent,200===t.status){e.next=9;break}throw new Error(n.error);case 9:return e.abrupt("return",{json:n,success:!0});case 12:return e.prev=12,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",{error:e.t0,success:!1});case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function x(){return m.apply(this,arguments)}function m(){return(m=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(d+"drink/ingredients");case 3:return t=e.sent,e.next=6,t.json();case 6:if(n=e.sent,200===t.status){e.next=9;break}throw new Error(n.error);case 9:return e.abrupt("return",{drinks:n,success:!0});case 12:return e.prev=12,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",{error:e.t0,success:!1});case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function g(){return(g=Object(l.a)(o.a.mark((function e(t,n,r){var c,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(d+"setPump",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:t,pump:n,newSelection:r})});case 3:return c=e.sent,e.next=6,c.json();case 6:if(a=e.sent,200===c.status){e.next=9;break}throw new Error(a.error);case 9:return e.abrupt("return",{success:!0});case 12:return e.prev=12,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",{error:e.t0,success:!1});case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function y(e,t,n){return k.apply(this,arguments)}function k(){return(k=Object(l.a)(o.a.mark((function e(t,n,r){var c,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(d+"drink/addIngredient",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:t,ingredient:n,category:r})});case 3:return c=e.sent,e.next=6,c.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:return e.prev=10,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",{error:e.t0,success:!1});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function w(e,t,n){return C.apply(this,arguments)}function C(){return(C=Object(l.a)(o.a.mark((function e(t,n,r){var c,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(d+"drink/removeIngredient",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:t,ingredient:n,category:r})});case 3:return c=e.sent,e.next=6,c.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:return e.prev=10,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",{error:e.t0,success:!1});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function S(e){return N.apply(this,arguments)}function N(){return(N=Object(l.a)(o.a.mark((function e(t){var n,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.stringify(t),e.prev=1,e.next=4,fetch(d+"drink/add",{method:"PATCH",headers:{"Content-Type":"application/json"},body:n});case 4:return r=e.sent,e.next=7,r.json();case 7:return c=e.sent,e.abrupt("return",c);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",{error:e.t0,success:!1});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}function T(){return E.apply(this,arguments)}function E(){return(E=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["ml","cl","tsp","tbsp"]);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return(D=Object(l.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch(d+"startPump",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t,time:n})});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return A.apply(this,arguments)}function A(){return(A=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(d+"drink/all",{method:"GET",headers:{"Content-Type":"application/json"}});case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",{success:!0,response:n});case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{success:!1});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function M(e){return P.apply(this,arguments)}function P(){return(P=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fetch(d+"drink/make",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t})}),e.abrupt("return",!0);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e,t){return J.apply(this,arguments)}function J(){return(J=Object(l.a)(o.a.mark((function e(t,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(d+"drink/remove",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:t,id:n})});case 3:return r=e.sent,e.abrupt("return",{success:!0,response:r});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{success:!1,error:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function U(e){return W.apply(this,arguments)}function W(){return(W=Object(l.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(d+"drink/ingredients",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t})});case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",{success:!0,response:r});case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{success:!1,error:e.t0});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}n(18);var H=n(0);function R(e){var t=e.children,n=e.onClick;return Object(H.jsx)("div",{className:"button red",onClick:n,children:t})}function q(e){var t=e.children,n=e.onClick;return Object(H.jsx)("div",{className:"button green",onClick:n,children:t})}function B(e){var t=e.children,n=e.onClick,r=e.onMouseDown,c=e.onMouseUp,a=e.onMouseLeave;return Object(H.jsx)("div",{className:"button attention",onClick:n,onMouseDown:r,onMouseUp:c,onMouseLeave:a,children:t})}function F(e){var t=e.children,n=e.onClick;return Object(H.jsx)("button",{onClick:n,className:"remove",children:t})}n(20);function G(e){var t=e.cbWhenPressed;return Object(H.jsx)("button",{className:"close-button",onClick:t})}function z(){return Object(H.jsx)("div",{className:"blur-background"})}function K(e){var t=e.children,n=e.cbToClose,c=Object(r.useState)(0),a=Object(u.a)(c,2),s=a[0],i=a[1];function o(){i(0),setTimeout(n,200)}return Object(r.useEffect)((function(){setTimeout((function(){i(1)}),50)}),[]),Object(r.useEffect)((function(){return document.addEventListener("keydown",(function(e){"Escape"===e.code&&o()})),function(){document.removeEventListener("keydown",(function(e){"Escape"===e.code&&o()}))}}),[]),Object(H.jsxs)("div",{className:"white-content-overlay",style:{opacity:s},children:[Object(H.jsx)(z,{}),Object(H.jsxs)("div",{className:"settings-container",children:[t,Object(H.jsx)(G,{cbWhenPressed:o})]})]})}n(21);function Q(){return localStorage.getItem("password")}function V(e){var t=Object(r.useState)(""),n=Object(u.a)(t,2),c=n[0],a=n[1],s=Object(r.useState)(!1),i=Object(u.a)(s,2),o=i[0],l=i[1],j=e.cbWhenCorrect;function p(){""===c&&l(!0),function(e){return O.apply(this,arguments)}(c).then((function(e){e.correct?(j(),function(e){localStorage.setItem("password",e)}(c)):l(!0)}))}return Object(r.useEffect)((function(){var e=setTimeout((function(){return l(!1)}),500);return function(){return clearTimeout(e)}}),[o]),Object(r.useEffect)((function(){var e=function(e){"Enter"===e.code&&p()};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}})),Object(H.jsxs)("div",{className:"password-input ".concat(o?"invalid":""),children:[Object(H.jsx)("input",{value:c,onChange:function(e){var t=e.currentTarget.value;a(t)},type:"password"}),Object(H.jsx)("button",{className:"submit",onClick:p,children:"Submit"})]})}function X(e){var t=e.onChange,n=e.selectedDrink,c=Object(r.useState)(),a=Object(u.a)(c,2),s=a[0],i=a[1],j=function(){var e=Object(r.useState)(),t=Object(u.a)(e,2),n=t[0],c=t[1];return Object(r.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:t=e.sent,c(t.drinks);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),n}();return Object(r.useEffect)((function(){i(n||"empty")}),[n]),j&&s?Object(H.jsxs)("select",{value:s,onChange:function(e){var n=e.target.value;i(n);try{t(e)}catch(r){console.log("Did you define an onChange prop? "+r)}},children:[Object(H.jsx)("option",{value:"empty",children:"Empty"},"empty"),Object.entries(j).map((function(e){var t,n=Object(u.a)(e,2),r=n[0],c=n[1];return Object(H.jsx)("optgroup",{label:r,children:(t=c,t.map((function(e,t){return Object(H.jsx)("option",{value:e,children:e},t)})))},r)}))]}):Object(H.jsx)("select",{disabled:!0,children:Object(H.jsx)("option",{value:"loading",children:"Loading..."})})}function Y(e){var t=e.onChange,n=e.selectedCategory,c=Object(r.useState)(),a=Object(u.a)(c,2),s=a[0],i=a[1],j=Object(r.useState)(),p=Object(u.a)(j,2),d=p[0],b=p[1];function f(){return f=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:t=e.sent,n=Object.entries(t.drinks).map((function(e){var t=Object(u.a)(e,2),n=t[0];t[1];return n})),b(n);case 5:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}return Object(r.useEffect)((function(){!function(){f.apply(this,arguments)}(),n&&i(n)}),[n]),Object(H.jsxs)("select",{className:"ingredients-category-selector",value:s,onChange:function(e){var n=e.target.value;i(n);try{t(n)}catch(r){console.log("Did you define an onChange prop? "+r)}},children:[Object(H.jsx)("option",{value:"",children:"Select category"}),d?d.map((function(e){return Object(H.jsx)("option",{value:e,children:e},e)})):Object(H.jsx)("option",{children:"Loading..."})]})}function Z(e){var t=e.pumpNumber,n="pump"+t;return Object(H.jsxs)("div",{className:"pump-setting",children:[Object(H.jsx)("div",{children:n}),Object(H.jsx)(X,{onChange:function(e){var n=e.target.value;!function(e,t,n){g.apply(this,arguments)}(Q(),t,n)},selectedDrink:e.selectedDrink})]})}function $(){var e=Object(r.useState)(),t=Object(u.a)(e,2),n=t[0],c=t[1];function a(){return s.apply(this,arguments)}function s(){return(s=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:t=e.sent,n=t.json.pumps,c(n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){a()}),[]),Object(H.jsxs)("div",{className:"pump-settings",children:[Object(H.jsx)("div",{className:"pumps",children:n?n.map((function(e,t){return Object(H.jsx)(Z,{pumpNumber:e.id,selectedDrink:e.select},t)})):Object(H.jsx)("div",{children:"Loading..."})}),Object(H.jsx)(q,{onClick:function(){c(void 0),a()},children:"Refresh"})]})}function _(e){var t=Object(r.useState)(),n=Object(u.a)(t,2),c=n[0],a=n[1],s=Object(r.useState)(),i=Object(u.a)(s,2),j=i[0],p=i[1],d=Object(r.useState)(!1),b=Object(u.a)(d,2),f=b[0],O=b[1],h=e.closecb;function v(){return(v=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),j&&c){e.next=3;break}return e.abrupt("return");case 3:return O(!0),n=Q(),e.next=7,y(n,j,c);case 7:e.sent&&p(),O(!1),h();case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return f?Object(H.jsx)("div",{children:"Adding..."}):Object(H.jsxs)("div",{className:"add-ingredient",children:[Object(H.jsx)("div",{className:"add-ingredient-title",children:"Add Ingredient"}),Object(H.jsxs)("form",{className:"add-ingredient-input",onSubmit:function(e){return v.apply(this,arguments)},children:[Object(H.jsx)("input",{type:"text",onChange:function(e){var t=e.currentTarget.value;p(t)},required:!0}),Object(H.jsx)(Y,{onChange:a,selectedCategory:c}),Object(H.jsx)("input",{type:"submit",value:"Add",required:!0})]}),Object(H.jsx)(R,{onClick:h,children:"Cancel"})]})}function ee(e){var t=Object(r.useState)(""),n=Object(u.a)(t,2),c=n[0],a=n[1],s=Object(r.useState)(!1),i=Object(u.a)(s,2),j=i[0],p=i[1],d=Object(r.useState)(),b=Object(u.a)(d,2),f=b[0],O=b[1],h=e.closecb;function v(){return(v=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f){e.next=2;break}return e.abrupt("return");case 2:return p(!0),t=Q(),e.next=6,L(t,f);case 6:n=e.sent,O(),p(!1),n.success&&h();case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:t=e.sent,n=t.response,a(n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),!c||j?Object(H.jsx)("div",{children:"Loading..."}):Object(H.jsxs)("div",{className:"remove-drink-section",children:[Object(H.jsxs)("select",{value:f,onChange:function(e){var t=e.target.value;t&&O(t)},children:[Object(H.jsx)("option",{value:"",children:"Select Drink"}),c.map((function(e,t){return Object(H.jsx)("option",{value:e.id,children:e.name},t)}))]}),Object(H.jsx)(R,{onClick:function(){return v.apply(this,arguments)},children:"Delete"}),Object(H.jsx)(R,{children:"Close"})]})}function te(e){var t=Object(r.useState)(!1),n=Object(u.a)(t,2),c=n[0],a=n[1],s=Object(r.useState)(),i=Object(u.a)(s,2),j=i[0],p=i[1],d=Object(r.useState)(),b=Object(u.a)(d,2),f=b[0],O=b[1],h=e.closecb;function v(){return(v=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f&&"empty"!==f){e.next=2;break}return e.abrupt("return");case 2:return a(!0),t=Q(),e.next=6,w(t,f,j);case 6:h(),a(!1);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return c?Object(H.jsx)("div",{children:"Deleting..."}):Object(H.jsxs)("div",{className:"ingredient delete",children:[Object(H.jsx)(X,{onChange:function(e){var t=e.target.value;O(t);var n=e.currentTarget.selectedIndex,r=e.currentTarget[n].parentElement.label;p(r)}}),Object(H.jsx)(R,{onClick:function(){return v.apply(this,arguments)},children:"Remove Ingredient"}),Object(H.jsx)(R,{onClick:h,children:"Cancel"})]})}function ne(){var e=Object(r.useState)(),t=Object(u.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(),s=Object(u.a)(a,2),i=s[0],j=s[1],p=Object(r.useState)(),d=Object(u.a)(p,2),f=d[0],O=d[1];function v(e){return JSON.stringify(e,null,2)}function m(){return g.apply(this,arguments)}function g(){return g=Object(l.a)(o.a.mark((function e(){var t,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:return t=e.sent,c(v(t)),e.next=6,h();case 6:return n=e.sent,j(v(n)),e.next=10,x();case 10:r=e.sent,O(v(r));case 12:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)}return Object(r.useEffect)((function(){m();var e=setInterval(m,1e3);return function(){return clearInterval(e)}})),Object(H.jsxs)("div",{className:"debug-values",children:[Object(H.jsxs)("div",{className:"debug-container",children:[Object(H.jsx)("div",{className:"debug-title",children:"Status"}),Object(H.jsx)("pre",{className:"debug-value",children:n})]}),Object(H.jsxs)("div",{className:"debug-container",children:[Object(H.jsx)("div",{className:"debug-title",children:"Pumps"}),Object(H.jsx)("pre",{className:"debug-value",children:i})]}),Object(H.jsxs)("div",{className:"debug-container",children:[Object(H.jsx)("div",{className:"debug-title",children:"Drinks"}),Object(H.jsx)("pre",{className:"debug-value",children:f})]})]})}function re(){var e=Object(r.useState)(!1),t=Object(u.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(!1),s=Object(u.a)(a,2),i=s[0],o=s[1],l=Object(r.useState)(!1),j=Object(u.a)(l,2),p=j[0],d=j[1],b=Object(r.useState)(!1),f=Object(u.a)(b,2),O=f[0],h=f[1];return Object(H.jsxs)("div",{className:"settings-hidden",children:[Object(H.jsx)($,{}),n?Object(H.jsx)(ee,{closecb:function(){return c(!1)}}):Object(H.jsx)(R,{onClick:function(){return c(!0)},children:"Remove Drink"}),i?Object(H.jsx)(te,{closecb:function(){return o(!1)}}):Object(H.jsx)(R,{onClick:function(){return o(!0)},children:"Remove Ingredient"}),p?Object(H.jsx)(_,{closecb:function(){return d(!1)}}):Object(H.jsx)(q,{onClick:function(){return d(!0)},children:"Add Ingredient"}),O?Object(H.jsx)(ne,{}):Object(H.jsx)(q,{onClick:function(){return h(!0)},children:"Debug"})]})}var ce=function(e){var t=Object(r.useState)(!1),n=Object(u.a)(t,2),c=n[0],a=n[1],s=e.cbToClose;return Object(H.jsx)(K,{cbToClose:s,children:c?Object(H.jsx)(re,{}):Object(H.jsx)(V,{cbWhenCorrect:function(){a(!0)}})})},ae=n.p+"static/media/settings.8588567d.svg";n(22);function se(e){var t=e.connected;return Object(H.jsxs)("div",{className:"status",children:[Object(H.jsx)("div",{className:"circle ".concat(t?"green":"red")}),Object(H.jsx)("div",{className:"text",children:t?"Connected":"Disconnected"})]})}function ue(e){var t=e.currentTask;return Object(H.jsxs)("div",{className:"task",children:[Object(H.jsx)("div",{className:"current",children:"Current Status:"}),Object(H.jsx)("div",{className:"task",children:t})]})}function ie(e){var t=e.cbWhenPressed;return Object(H.jsx)("div",{onClick:t,className:"settings",children:Object(H.jsx)("img",{src:ae,alt:"Settings"})})}var oe=function(e){var t=function(){var e=Object(r.useState)({online:!1,task:"Idle"}),t=Object(u.a)(e,2),n=t[0],c=t[1];function a(){return s.apply(this,arguments)}function s(){return(s=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){a();var e=setInterval(a,2e3);return function(){return clearInterval(e)}}),[]),n}(),n=t.online,c=t.task,a=e.cbShowSettings;return Object(H.jsxs)("div",{className:"top-header",children:[Object(H.jsx)(se,{connected:n}),Object(H.jsx)(ue,{currentTask:c}),Object(H.jsx)(ie,{cbWhenPressed:a})]})};n(23);function le(e){var t=e.closecb,n=e.drink,c=Object(r.useState)(),a=Object(u.a)(c,2),s=a[0],i=a[1];function j(){return(j=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(n.id);case 2:t();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){function e(){return e=Object(l.a)(o.a.mark((function e(){var t,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U(n.id);case 2:t=e.sent,r=t.response.ingredients,i(r);case 5:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n]),Object(H.jsxs)(K,{cbToClose:t,children:[Object(H.jsx)("h2",{className:"title",children:n.name}),Object(H.jsx)("div",{className:"ingredients",children:Object(H.jsx)("ul",{children:s?s.map((function(e,t){return Object(H.jsx)("li",{children:"".concat(e.amountOfIngredient," ").concat(e.unitOfMeasurement," ").concat(e.ingredient)},t)})):null})}),Object(H.jsx)(B,{onClick:function(){return j.apply(this,arguments)},children:"Make Drink"})]})}function je(e){var t=e.category,n=e.drinks,c=Object(r.useState)(!1),a=Object(u.a)(c,2),s=a[0],i=a[1],j=Object(r.useState)(),p=Object(u.a)(j,2),d=p[0],b=p[1];function f(){return(f=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(!0),b(t);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(H.jsxs)("div",{className:"drink-category",children:[s?Object(H.jsx)(le,{closecb:function(){return i(!1)},drink:d}):null,Object(H.jsx)("div",{className:"name",children:t}),Object(H.jsx)("div",{className:"drinks",children:n.map((function(e,t){return Object(H.jsx)(B,{onClick:function(){return function(e){return f.apply(this,arguments)}(e)},children:e.name},t)}))})]})}function pe(e){var t=Object(r.useState)(),n=Object(u.a)(t,2),c=n[0],a=n[1],s=Object(r.useState)(),i=Object(u.a)(s,2),j=i[0],p=i[1];return Object(r.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){var t,n,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:t=e.sent,n=t.response,r=[],c=[],n.forEach((function(e){1===e.hasAlcohol?r.push(e):c.push(e)})),p(r),a(c);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),j&&c?Object(H.jsxs)("div",{className:"drink-categories",children:[Object(H.jsx)(je,{category:"Alcoholic",drinks:j}),Object(H.jsx)(je,{category:"Non-alcoholic",drinks:c})]}):Object(H.jsx)("div",{className:"loading",children:"Loading..."})}var de=function(){return Object(H.jsx)("div",{className:"main",children:Object(H.jsx)(pe,{})})},be=n(9);n(24);function fe(e){var t=e.onChange,n=Object(r.useState)(),c=Object(u.a)(n,2),a=c[0],s=c[1],i=Object(r.useState)(),j=Object(u.a)(i,2),p=j[0],d=j[1];return Object(r.useEffect)((function(){function e(){return e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:t=e.sent,s(t);case 4:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(H.jsxs)("select",{className:"unit-selector",onChange:function(e){d(e.target.value),t(e)},value:p,children:[p?null:Object(H.jsx)("option",{value:"",children:"Select Unit"}),a?a.map((function(e){return Object(H.jsx)("option",{value:e,children:e},e)})):null]})}function Oe(e){var t=e.onChange,n=Object(r.useState)(""),c=Object(u.a)(n,2),a=c[0],s=c[1];return Object(H.jsx)("input",{className:"amount-input",type:"number",onChange:function(e){var n=e.target.value;n>1e3||n<0||(s(n),t(e))},max:"1000",min:"1",value:a})}function he(e){var t=e.onDelete,n=e.onIngredientChange,r=e.onAmountChange,c=e.onUnitOfMeasurementChange;return Object(H.jsxs)("div",{className:"ingredient-section",children:[Object(H.jsx)(X,{onChange:function(e){var t=e.target.value;n(t)}}),Object(H.jsx)(Oe,{onChange:function(e){var t=e.target.value;r(t)}}),Object(H.jsx)(fe,{onChange:function(e){var t=e.target.value;c(t)}}),Object(H.jsx)(F,{onClick:t})]})}function ve(e){var t=Object(r.useState)(),n=Object(u.a)(t,2),c=n[0],a=n[1],s=Object(r.useState)([]),i=Object(u.a)(s,2),p=i[0],d=i[1],b=Object(r.useState)(!1),f=Object(u.a)(b,2),O=f[0],h=f[1];function v(){return 0!==p.length&&(p.every((function(e){return 0!=(e.id&&e.ingredient&&e.amount&&e.unit)}))&&0!=c)}function x(){return(x=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v()){e.next=11;break}return h(!0),t={name:c,ingredients:p},e.next=6,S(t);case 6:!0===e.sent.success&&(a(""),d([])),h(!1),e.next=12;break;case 11:alert("Please fill out all fields");case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return O?Object(H.jsx)("div",{className:"add-drink-component",children:"Adding..."}):Object(H.jsxs)(H.Fragment,{children:[Object(H.jsxs)("div",{className:"add-drink-component",children:[Object(H.jsx)("input",{className:"name",type:"text",value:c,onChange:function(e){var t=e.target.value;a(t)}}),p.length?p.map((function(e){return Object(H.jsx)(he,{onDelete:function(){!function(e){d(p.filter((function(t){return t.id!==e})))}(e.id)},onIngredientChange:function(t){return function(e,t){d(p.map((function(n){return n.id===e?Object(j.a)(Object(j.a)({},n),{},{ingredient:t}):n})))}(e.id,t)},onAmountChange:function(t){return function(e,t){d(p.map((function(n){return n.id===e?Object(j.a)(Object(j.a)({},n),{},{amount:t}):n})))}(e.id,t)},onUnitOfMeasurementChange:function(t){return function(e,t){d(p.map((function(n){return n.id===e?Object(j.a)(Object(j.a)({},n),{},{unit:t}):n})))}(e.id,t)}},e.id)})):null,Object(H.jsx)(B,{onClick:function(){d([].concat(Object(be.a)(p),[{id:Math.floor(+Date.now()+Math.random()),ingredient:"",amount:"",unit:""}]))},children:"Add Ingredient"})]}),Object(H.jsx)("div",{className:"submit-container",children:Object(H.jsx)(B,{onClick:function(){return x.apply(this,arguments)},children:"Submit"})})]})}function xe(e){var t=Object(r.useState)([null,null,null,null,null,null,null,null]),n=Object(u.a)(t,2),c=n[0],a=n[1],s=Object(r.useState)(),i=Object(u.a)(s,2),j=i[0],p=i[1];function d(e){var t=setInterval((function(){!function(e,t){D.apply(this,arguments)}(e,500)}),500);a((function(n){var r=Object(be.a)(n);return r[e-1]=t,r}))}function b(e){clearInterval(c[e-1])}return Object(r.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:t=e.sent,p(t.json.pumps);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(H.jsx)("div",{className:"custom-buttons",children:j?j.map((function(e){var t=e.id,n=e.select;return Object(H.jsx)(B,{onMouseDown:function(){d(t)},onMouseUp:function(){b(t)},onMouseLeave:function(){b(t)},children:n},t)})):Object(H.jsx)("div",{children:"Loading..."})})}var me=function(){var e=Object(r.useState)(!1),t=Object(u.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(!1),s=Object(u.a)(a,2),i=s[0],o=s[1];return Object(H.jsxs)("div",{className:"footer",children:[n?Object(H.jsx)(K,{cbToClose:function(){return c(!1)},children:Object(H.jsx)(ve,{})}):null,i?Object(H.jsx)(K,{cbToClose:function(){return o(!1)},children:Object(H.jsx)(xe,{})}):null,Object(H.jsx)(B,{onClick:function(){return c(!0)},children:"Add Drink"}),Object(H.jsx)(B,{onClick:function(){return o(!0)},children:"Custom"})]})};var ge=function(){var e=Object(r.useState)(!1),t=Object(u.a)(e,2),n=t[0],c=t[1];return Object(H.jsxs)("div",{className:"App",children:[n?Object(H.jsx)(ce,{cbToClose:function(){return c(!1)}}):null,Object(H.jsx)(oe,{cbShowSettings:function(){return c(!0)}}),Object(H.jsx)(de,{}),Object(H.jsx)(me,{})]})};s.a.render(Object(H.jsx)(c.a.StrictMode,{children:Object(H.jsx)(ge,{})}),document.getElementById("root"))}],[[25,1,2]]]);
//# sourceMappingURL=main.723c0bfd.chunk.js.map